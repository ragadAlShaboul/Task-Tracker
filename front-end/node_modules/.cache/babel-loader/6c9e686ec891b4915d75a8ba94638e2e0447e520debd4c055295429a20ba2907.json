{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\js-project\\\\FE Assignment\\\\front-end\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useContext } from \"react\";\nimport { useNavigate, Route, Routes } from \"react-router-dom\";\nimport Header from './components/Header';\nimport Tasks from './components/Tasks';\nimport AddTask from \"./components/AddTask\";\nimport Footer from \"./components/Footer\";\nimport Login from \"./components/Login\";\nimport Signup from \"./components/Signup\";\nimport { signup, login, fetchTasks, addTask, deleteTask, updateTask } from './api';\nimport AuthContext from './context/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [showAddTask, setShowAddTask] = useState(false);\n  const [tasks, setTasks] = useState([]);\n  const {\n    token,\n    login: authLogin,\n    logout\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const handleLogout = () => {\n    logout();\n    setTasks([]);\n    navigate('/');\n  };\n  useEffect(() => {\n    if (token) {\n      fetchTasks(token).then(data => setTasks(data)).catch(err => console.error(\"Error fetching tasks:\", err));\n    }\n  }, [token]);\n  useEffect(() => {\n    if (token) {\n      fetchTasks(token).then(data => setTasks(data)).catch(err => console.error(\"Error fetching tasks:\", err));\n    }\n  }, [tasks]);\n  const handleLogin = async userData => {\n    try {\n      const response = await login(userData);\n      const newToken = response.token;\n      authLogin(newToken);\n      if (newToken) {\n        navigate(\"/tasks\");\n      }\n    } catch (error) {\n      var _error$response;\n      console.error(\"Server responded with error:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    }\n  };\n  const handleSignup = async userData => {\n    try {\n      const response = await signup(userData);\n      const newToken = response.token;\n      authLogin(newToken);\n      if (newToken) navigate(\"/\");\n    } catch (err) {\n      console.error(\"Error signing up:\", err);\n    }\n  };\n\n  // Add task\n  const handleAddTask = async task => {\n    try {\n      const newTask = await addTask(task, token);\n      setTasks([...tasks, newTask]);\n    } catch (err) {\n      console.error(\"Error adding task:\", err);\n    }\n  };\n\n  // Delete task\n  const handleDeleteTask = async id => {\n    try {\n      await deleteTask(id, token);\n      setTasks(tasks.filter(task => task.id !== id));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // Toggle reminder\n  const handleToggleReminder = async id => {\n    const taskToUpdate = tasks.find(task => task.id === id);\n    const updatedTask = {\n      ...taskToUpdate,\n      reminder: !taskToUpdate.reminder\n    };\n    try {\n      await updateTask(updatedTask, token);\n      setTasks(tasks.map(task => task.id === id ? updatedTask : task));\n    } catch (err) {\n      console.error(\"Error updating task:\", err);\n    }\n  };\n\n  //update task\n  const handleUpdateTask = async updatedTask => {\n    try {\n      await updateTask(updatedTask, token);\n      setTasks(tasks.map(task => task.id === updatedTask.id ? updatedTask : task));\n    } catch (err) {\n      console.error(\"Error updating task:\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"Welcome Name\",\n      onAdd: () => setShowAddTask(!showAddTask),\n      showAdd: showAddTask\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Login, {\n          onLogin: handleLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        element: /*#__PURE__*/_jsxDEV(Signup, {\n          onSignup: handleSignup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/tasks\",\n        element: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [showAddTask && /*#__PURE__*/_jsxDEV(AddTask, {\n            onAdd: handleAddTask\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 32\n          }, this), tasks.length > 0 ? /*#__PURE__*/_jsxDEV(Tasks, {\n            tasks: tasks,\n            onDelete: handleDeleteTask,\n            onToggle: handleToggleReminder,\n            onUpdate: handleUpdateTask\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, this) : 'No tasks to show', /*#__PURE__*/_jsxDEV(Footer, {\n            onLogout: handleLogout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"00FawutZ4MW6mqfYdJQmzmzc0gM=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","useContext","useNavigate","Route","Routes","Header","Tasks","AddTask","Footer","Login","Signup","signup","login","fetchTasks","addTask","deleteTask","updateTask","AuthContext","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","showAddTask","setShowAddTask","tasks","setTasks","token","authLogin","logout","navigate","handleLogout","then","data","catch","err","console","error","handleLogin","userData","response","newToken","_error$response","message","handleSignup","handleAddTask","task","newTask","handleDeleteTask","id","filter","handleToggleReminder","taskToUpdate","find","updatedTask","reminder","map","handleUpdateTask","className","children","title","onAdd","showAdd","fileName","_jsxFileName","lineNumber","columnNumber","path","element","onLogin","onSignup","length","onDelete","onToggle","onUpdate","onLogout","_c","$RefreshReg$"],"sources":["C:/Users/hp/Desktop/js-project/FE Assignment/front-end/src/App.js"],"sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport { useNavigate, Route, Routes } from \"react-router-dom\";\nimport Header from './components/Header';\nimport Tasks from './components/Tasks';\nimport AddTask from \"./components/AddTask\";\nimport Footer from \"./components/Footer\";\nimport Login from \"./components/Login\";\nimport Signup from \"./components/Signup\";\nimport { signup, login, fetchTasks, addTask, deleteTask, updateTask } from './api';\nimport AuthContext from './context/AuthContext';\n\nfunction App() {\n  const [showAddTask, setShowAddTask] = useState(false);\n  const [tasks, setTasks] = useState([]);\n  const { token, login: authLogin, logout } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  const handleLogout = () => {\n    logout();\n    setTasks([])\n    navigate('/');\n  };\n\n  useEffect(() => {\n    if (token) {\n      fetchTasks(token)\n        .then(data => setTasks(data))\n        .catch(err => console.error(\"Error fetching tasks:\", err));\n    }\n  }, [token]);\n\n  useEffect(() => {\n    if (token) {\n      fetchTasks(token)\n        .then(data => setTasks(data))\n        .catch(err => console.error(\"Error fetching tasks:\", err));\n    }\n  }, [tasks]);\n\n  const handleLogin = async (userData) => {\n    try {\n      const response = await login(userData);\n      const newToken = response.token;\n      authLogin(newToken);\n      if (newToken) {\n        navigate(\"/tasks\");\n      }\n    } catch (error) {\n      console.error(\"Server responded with error:\", error.response?.data || error.message);\n    }\n  };\n\n  const handleSignup = async (userData) => {\n    try {\n      const response = await signup(userData);\n      const newToken = response.token;\n      authLogin(newToken);\n      if(newToken)\n      navigate(\"/\");\n    } catch (err) {\n      console.error(\"Error signing up:\", err);\n    }\n  };\n\n  // Add task\n  const handleAddTask = async (task) => {\n    try {\n      const newTask = await addTask(task, token);\n      setTasks([...tasks, newTask]);\n    } catch (err) {\n      console.error(\"Error adding task:\", err);\n    }\n  };\n\n  // Delete task\n  const handleDeleteTask = async (id) => {\n    try {\n      await deleteTask(id, token);\n      setTasks(tasks.filter((task) => task.id !== id));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // Toggle reminder\n  const handleToggleReminder = async (id) => {\n    const taskToUpdate = tasks.find(task => task.id === id);\n    const updatedTask = { ...taskToUpdate, reminder: !taskToUpdate.reminder };\n    try {\n      await updateTask(updatedTask, token);\n      setTasks(tasks.map(task => task.id === id ? updatedTask : task));\n    } catch (err) {\n      console.error(\"Error updating task:\", err);\n    }\n  };\n\n   //update task\n   const handleUpdateTask = async (updatedTask)=>{\n    try {\n      await updateTask(updatedTask, token)\n      setTasks(tasks.map(((task)=>\n        task.id === updatedTask.id ? updatedTask : task\n      )))\n    } catch (err) {\n      console.error(\"Error updating task:\", err);\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      <Header \n        title='Welcome Name'\n        onAdd={() => setShowAddTask(!showAddTask)}\n        showAdd={showAddTask} \n      />\n      <Routes>\n        <Route \n          path='/' \n          element={<Login onLogin={handleLogin} />}\n        />\n        <Route \n          path='/signup' \n          element={<Signup onSignup={handleSignup} />}\n        />\n        <Route \n          path='/tasks'\n          element={\n            <>\n              { showAddTask && <AddTask onAdd={handleAddTask} /> }\n              {tasks.length > 0 ? \n                <Tasks tasks={tasks} \n                  onDelete={handleDeleteTask} \n                  onToggle={handleToggleReminder}\n                  onUpdate={handleUpdateTask} />\n              : 'No tasks to show'}\n              <Footer onLogout={handleLogout} />\n            </>\n          }\n        />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}